{% extends 'base.html' %}
{% load static from staticfiles %}
{% block content %}
<h1>The Blog</h1>

<a href="{% url 'add_post' %}" class="btn btn-warning">Add Post</a>

    {% for post in object_list %}
        <div class="row">
            <div class="col-md-2 col-sm-3 text-center">
                <a class="story-img" href="#">
                    <img src="{% static 'images/profile.jpg' %}" class="img-circle">
                </a>
                <p><span class="boldtext">Author:</span> {{post.author}}</p>
            </div>
            <div class="col-md-10 col-sm-9">
                <h3>{{ post.title }}</h3>
                <div class="row">
                    <div class="col-xs-9">
                        <p>{{ post.content|truncatewords:30 }}</p>
                        <p><a href="{% url 'post' post.id %}"  class="btn btn-default">Read more</a></p>
                        <p><span class="boldtext">Published on:</span> {{ post.published_date }} |
                        <span class="boldtext">Views:</span> {{post.views}} |
                        <span class="boldtext">Likes:</span> {{post.likes.all | length}} |
                        <span class="boldtext">Tag:</span> {{ post.tag }}</p>
                    </div>
                </div>
            </div>
            <hr>
        </div>
    {% endfor %}
{% endblock %}